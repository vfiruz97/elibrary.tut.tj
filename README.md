# README #

Этот README документирует все шаги, необходимые для запуска и настройки приложения.

## Настройка и запуск ##

* Настройка веб сервера
* Конфигурация приложения
* Установка зависимых пакетов через composer
* Инициализация RBAC
* Проблемы и ошибки

### Настройка веб сервера ###

Установите в качестве ```DocumentRoot``` путь к проекту. Убедитесь что включен модуль *mod_rewrite*
веб сервера, а так же установите значение ```AllowOverride``` в *All*. Переименуйте файл ```.htaccess.dist```
в ```.htaccess```.

### Конфигурация приложения ###

Создайте копию файла ```protected/config/db.php.dist``` и переименуйте его в ```db.php```. Укажите параметры
подключения к БД в этом файле

### Установка зависимых пакетов через composer ###

Если Composer еще не установлен это можно сделать по инструкции на [getcomposer.org](http://getcomposer.org), или одним
из нижеперечисленных способов. На Linux или Mac используйте следующую команду:

```bash
curl -sS https://getcomposer.org/installer | php
php composer.phar install
```

### Инициализация RBAC ###

Т.к. в приложении используется компонент ```authManager```, то для его работы необходимо в первую
очередь запустить миграции rbac. Делается это следующим образом:

```bash
yii migrate --migrationPath=@yii/rbac/migrations
```

Далее необходимо запусть миграции приложения командой ```yii migrate``` и назначить административные права
пользователю по умолчанию (admin) командой ```yii rbac/init```

### Проблемы и ошибки ###

Если в ходе запуска появились ошибки проверьте в первую очередь права на запись в директориях ```assets``` и
```protected/runtime```. Установить права можно выполнив команду:

```bash
chmod 777 assets protected/runtime
```

Убедитесь что файл ```yii``` имеет также права на исполнение